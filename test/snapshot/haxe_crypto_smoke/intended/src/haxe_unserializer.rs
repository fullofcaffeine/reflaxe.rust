// Generated by reflaxe.rust (POC)

static __HX_STATIC_DEFAULT_RESOLVER: std::sync::OnceLock<
    hxrt::cell::HxCell<crate::HxRef<hxrt::anon::Anon>>,
> = std::sync::OnceLock::new();
fn __hx_static_cell_default_resolver() -> &'static hxrt::cell::HxCell<crate::HxRef<hxrt::anon::Anon>>
{
    __HX_STATIC_DEFAULT_RESOLVER.get_or_init(|| {
        hxrt::cell::HxCell::new({
            let __hx_src = crate::haxe_unserializer_default_resolver::DefaultResolver::new();
            let __hx_o = crate::HxRef::new(hxrt::anon::Anon::new());
            let mut __b = __hx_o.borrow_mut();
            __b.set("resolveClass", {
                let __recv = __hx_src.clone();
                let __rc: crate::HxRc<dyn Fn(hxrt::string::HxString) -> u32 + Send + Sync> =
                    crate::HxRc::new(move |a0: hxrt::string::HxString| {
                        crate::haxe_unserializer_default_resolver::DefaultResolver::resolve_class(
                            &*__recv, a0,
                        )
                    });
                crate::HxDynRef::new(__rc)
            });
            __b.set("resolveEnum", {
                let __recv = __hx_src.clone();
                let __rc: crate::HxRc<dyn Fn(hxrt::string::HxString) -> u32 + Send + Sync> =
                    crate::HxRc::new(move |a0: hxrt::string::HxString| {
                        crate::haxe_unserializer_default_resolver::DefaultResolver::resolve_enum(
                            &*__recv, a0,
                        )
                    });
                crate::HxDynRef::new(__rc)
            });
            drop(__b);
            __hx_o
        })
    })
}
pub(crate) fn __hx_static_get_default_resolver() -> crate::HxRef<hxrt::anon::Anon> {
    __hx_static_cell_default_resolver().borrow().clone()
}
pub(crate) fn __hx_static_set_default_resolver(value: crate::HxRef<hxrt::anon::Anon>) {
    *__hx_static_cell_default_resolver().borrow_mut() = value;
}

static __HX_STATIC_BASE64: std::sync::OnceLock<hxrt::cell::HxCell<hxrt::string::HxString>> =
    std::sync::OnceLock::new();
fn __hx_static_cell_base64() -> &'static hxrt::cell::HxCell<hxrt::string::HxString> {
    __HX_STATIC_BASE64.get_or_init(|| {
        hxrt::cell::HxCell::new(hxrt::string::HxString::from(hxrt::string::HxString::from(
            "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",
        )))
    })
}
pub(crate) fn __hx_static_get_base64() -> hxrt::string::HxString {
    __hx_static_cell_base64().borrow().clone()
}
pub(crate) fn __hx_static_set_base64(value: hxrt::string::HxString) {
    *__hx_static_cell_base64().borrow_mut() = value;
}

static __HX_STATIC_CODES: std::sync::OnceLock<hxrt::cell::HxCell<hxrt::array::Array<i32>>> =
    std::sync::OnceLock::new();
fn __hx_static_cell_codes() -> &'static hxrt::cell::HxCell<hxrt::array::Array<i32>> {
    __HX_STATIC_CODES.get_or_init(|| hxrt::cell::HxCell::new(hxrt::array::Array::<i32>::null()))
}
pub(crate) fn __hx_static_get_codes() -> hxrt::array::Array<i32> {
    __hx_static_cell_codes().borrow().clone()
}
pub(crate) fn __hx_static_set_codes(value: hxrt::array::Array<i32>) {
    *__hx_static_cell_codes().borrow_mut() = value;
}

pub const __HX_TYPE_ID: u32 = 0xb43e7e96u32;

#[derive(Debug)]

pub struct Unserializer {
    buf: hxrt::string::HxString,
    pos: i32,
    length: i32,
    cache: hxrt::array::Array<hxrt::dynamic::Dynamic>,
    scache: hxrt::array::Array<hxrt::string::HxString>,
    resolver: crate::HxRef<hxrt::anon::Anon>,
}

impl Unserializer {
    pub fn new(
        buf: hxrt::string::HxString,
    ) -> crate::HxRef<crate::haxe_unserializer::Unserializer> {
        let self_: crate::HxRef<crate::haxe_unserializer::Unserializer> =
            crate::HxRef::new(Unserializer {
                buf: buf,
                pos: 0,
                length: 0,
                cache: hxrt::array::Array::<hxrt::dynamic::Dynamic>::new(),
                scache: hxrt::array::Array::<hxrt::string::HxString>::new(),
                resolver: Default::default(),
            });
        {
            let __tmp = hxrt::string::len(
                ({
                    let __b = self_.borrow();
                    __b.buf.clone()
                })
                .as_str(),
            );
            self_.borrow_mut().length = __tmp;
            __tmp
        };
        {
            let __tmp = 0;
            self_.borrow_mut().pos = __tmp;
            __tmp
        };
        {
            let __tmp = hxrt::array::Array::<hxrt::string::HxString>::new();
            self_.borrow_mut().scache = __tmp.clone();
            __tmp
        };
        {
            let __tmp = hxrt::array::Array::<hxrt::dynamic::Dynamic>::new();
            self_.borrow_mut().cache = __tmp.clone();
            __tmp
        };
        let mut r: crate::HxRef<hxrt::anon::Anon> =
            crate::haxe_unserializer::__hx_static_get_default_resolver();
        if hxrt::hxref::ptr_eq(&r, &crate::HxRef::<hxrt::anon::Anon>::null()) {
            r = {
                let __hx_src = crate::haxe_unserializer_default_resolver::DefaultResolver::new();
                let __hx_o = crate::HxRef::new(hxrt::anon::Anon::new());
                let mut __b = __hx_o.borrow_mut();
                __b.set("resolveClass", {
                    let __recv = __hx_src.clone();
                    let __rc: crate::HxRc<dyn Fn(hxrt::string::HxString) -> u32 + Send + Sync> = crate::HxRc::new(move |a0: hxrt::string::HxString| {
                        crate::haxe_unserializer_default_resolver::DefaultResolver::resolve_class(&*__recv, a0)
                    });
                    crate::HxDynRef::new(__rc)
                });
                __b.set("resolveEnum", {
                    let __recv = __hx_src.clone();
                    let __rc: crate::HxRc<dyn Fn(hxrt::string::HxString) -> u32 + Send + Sync> = crate::HxRc::new(move |a0: hxrt::string::HxString| {
                        crate::haxe_unserializer_default_resolver::DefaultResolver::resolve_enum(&*__recv, a0)
                    });
                    crate::HxDynRef::new(__rc)
                });
                drop(__b);
                __hx_o
            };
            {
                let __tmp = r.clone();
                crate::haxe_unserializer::__hx_static_set_default_resolver(__tmp.clone());
                __tmp
            };
        }
        {
            let __tmp = r.clone();
            self_.borrow_mut().resolver = __tmp.clone();
            __tmp
        };
        return self_;
    }

    fn read_digits(self_: &crate::HxRefCell<Unserializer>) -> i32 {
        let __hx_this: crate::HxRef<crate::haxe_unserializer::Unserializer> = self_.self_ref();
        let mut k: i32 = 0;
        let mut s: bool = false;
        let fpos: i32 = {
            let __b = __hx_this.borrow();
            __b.pos
        };
        loop {
            let c: i32 = {
                let p: i32 = {
                    let __b = __hx_this.borrow();
                    __b.pos
                };
                crate::string_tools::StringTools::fast_code_at(
                    hxrt::string::HxString::from({
                        let __b = __hx_this.borrow();
                        __b.buf.clone()
                    }),
                    p,
                )
            };
            if c == -1 {
                break;
            }
            if c == 45 {
                if ({
                    let __b = __hx_this.borrow();
                    __b.pos
                }) != fpos
                {
                    break;
                }
                s = true;
                {
                    let __tmp = self_.borrow().pos;
                    self_.borrow_mut().pos = __tmp + 1;
                    __tmp
                };
                continue;
            }
            if c < 48 || c > 57 {
                break;
            }
            k = k * 10 + (c - 48);
            {
                let __tmp = self_.borrow().pos;
                self_.borrow_mut().pos = __tmp + 1;
                __tmp
            };
        }
        if s {
            {
                k = k * -1;
                k
            };
        }
        return k;
    }

    fn read_float(self_: &crate::HxRefCell<Unserializer>) -> f64 {
        let __hx_this: crate::HxRef<crate::haxe_unserializer::Unserializer> = self_.self_ref();
        let p1: i32 = {
            let __b = __hx_this.borrow();
            __b.pos
        };
        loop {
            let c: i32 = {
                let p: i32 = {
                    let __b = __hx_this.borrow();
                    __b.pos
                };
                crate::string_tools::StringTools::fast_code_at(
                    hxrt::string::HxString::from({
                        let __b = __hx_this.borrow();
                        __b.buf.clone()
                    }),
                    p,
                )
            };
            if c == -1 {
                break;
            }
            if c >= 43 && c < 58 || c == 101 || c == 69 {
                {
                    let __tmp = self_.borrow().pos;
                    self_.borrow_mut().pos = __tmp + 1;
                    __tmp
                };
            } else {
                break;
            }
        }
        return hxrt::string::parse_float(
            ({
                let s: hxrt::string::HxString = hxrt::string::HxString::from({
                    let __b = __hx_this.borrow();
                    __b.buf.clone()
                });
                let length: i32 = ({
                    let __b = __hx_this.borrow();
                    __b.pos
                }) - p1;
                hxrt::string::HxString::from(hxrt::string::substr(s.as_str(), p1, Some(length)))
            })
            .as_str(),
        );
    }

    fn unserialize_object(
        self_: &crate::HxRefCell<Unserializer>,
        o: crate::HxRef<hxrt::anon::Anon>,
    ) {
        let __hx_this: crate::HxRef<crate::haxe_unserializer::Unserializer> = self_.self_ref();
        loop {
            if ({
                let __b = __hx_this.borrow();
                __b.pos
            }) >= ({
                let __b = __hx_this.borrow();
                __b.length
            }) {
                hxrt::exception::throw(hxrt::dynamic::from(hxrt::string::HxString::from(
                    "Invalid object",
                )));
            }
            if ({
                let p: i32 = {
                    let __b = __hx_this.borrow();
                    __b.pos
                };
                crate::string_tools::StringTools::fast_code_at(
                    hxrt::string::HxString::from({
                        let __b = __hx_this.borrow();
                        __b.buf.clone()
                    }),
                    p,
                )
            }) == 103
            {
                break;
            }
            let k: hxrt::dynamic::Dynamic =
                crate::haxe_unserializer::Unserializer::unserialize(&*__hx_this);
            if !({
                let __dyn = k.clone();
                __dyn.downcast_ref::<String>().is_some()
                    || __dyn.downcast_ref::<hxrt::string::HxString>().is_some()
            }) {
                hxrt::exception::throw(hxrt::dynamic::from(hxrt::string::HxString::from(
                    "Invalid object key",
                )));
            }
            let v: hxrt::dynamic::Dynamic =
                crate::haxe_unserializer::Unserializer::unserialize(&*__hx_this);
            {
                let __obj = o.clone();
                let __name = {
                    let __hx_dyn = k.clone();
                    if __hx_dyn.is_null() {
                        hxrt::string::HxString::null()
                    } else {
                        if __hx_dyn.downcast_ref::<String>().is_some() {
                            hxrt::string::HxString::from(
                                __hx_dyn.downcast_ref::<String>().unwrap().clone(),
                            )
                        } else {
                            if __hx_dyn.downcast_ref::<hxrt::string::HxString>().is_some() {
                                __hx_dyn
                                    .downcast_ref::<hxrt::string::HxString>()
                                    .unwrap()
                                    .clone()
                            } else {
                                hxrt::exception::throw(hxrt::dynamic::from(String::from(
                                    "Null Access",
                                )))
                            }
                        }
                    }
                };
                let __dyn = hxrt::dynamic::from(__obj);
                let __val = v;
                hxrt::dynamic::field_set(&__dyn, __name.as_str(), __val);
            };
        }
        {
            let __tmp = self_.borrow().pos;
            self_.borrow_mut().pos = __tmp + 1;
            __tmp
        };
    }

    fn unserialize_enum<T>(
        self_: &crate::HxRefCell<Unserializer>,
        edecl: u32,
        tag: hxrt::string::HxString,
    ) -> T {
        let __hx_this: crate::HxRef<crate::haxe_unserializer::Unserializer> = self_.self_ref();
        if ({
            let p: i32 = {
                let __tmp = self_.borrow().pos;
                self_.borrow_mut().pos = __tmp + 1;
                __tmp
            };
            crate::string_tools::StringTools::fast_code_at(
                hxrt::string::HxString::from({
                    let __b = __hx_this.borrow();
                    __b.buf.clone()
                }),
                p,
            )
        }) != 58
        {
            hxrt::exception::throw(hxrt::dynamic::from(hxrt::string::HxString::from(
                "Invalid enum format",
            )));
        }
        let mut nargs: i32 = crate::haxe_unserializer::Unserializer::read_digits(&*__hx_this);
        if nargs == 0 {
            return {
                let _ = edecl;
                let _ = tag;
                todo!()
            };
        }
        let args: hxrt::array::Array<hxrt::dynamic::Dynamic> =
            hxrt::array::Array::<hxrt::dynamic::Dynamic>::new();
        while ({
            let __tmp = nargs;
            nargs = nargs - 1;
            __tmp
        }) > 0
        {
            args.push(crate::haxe_unserializer::Unserializer::unserialize(
                &*__hx_this,
            ));
        }
        return {
            let _ = edecl;
            let _ = tag;
            let _ = args;
            todo!()
        };
    }

    pub fn unserialize(self_: &crate::HxRefCell<Unserializer>) -> hxrt::dynamic::Dynamic {
        let __hx_this: crate::HxRef<crate::haxe_unserializer::Unserializer> = self_.self_ref();
        {
            let _g: i32 = {
                let p: i32 = {
                    let __tmp = self_.borrow().pos;
                    self_.borrow_mut().pos = __tmp + 1;
                    __tmp
                };
                crate::string_tools::StringTools::fast_code_at(
                    hxrt::string::HxString::from({
                        let __b = __hx_this.borrow();
                        __b.buf.clone()
                    }),
                    p,
                )
            };
            match _g {
                65 => {
                    let name: hxrt::string::HxString = {
                        let __hx_dyn =
                            crate::haxe_unserializer::Unserializer::unserialize(&*__hx_this);
                        if __hx_dyn.is_null() {
                            hxrt::string::HxString::null()
                        } else {
                            if __hx_dyn.downcast_ref::<String>().is_some() {
                                hxrt::string::HxString::from(
                                    __hx_dyn.downcast_ref::<String>().unwrap().clone(),
                                )
                            } else {
                                if __hx_dyn.downcast_ref::<hxrt::string::HxString>().is_some() {
                                    __hx_dyn
                                        .downcast_ref::<hxrt::string::HxString>()
                                        .unwrap()
                                        .clone()
                                } else {
                                    hxrt::exception::throw(hxrt::dynamic::from(String::from(
                                        "Null Access",
                                    )))
                                }
                            }
                        }
                    };
                    let cl: u32 = ({
                        let __b = __hx_this.borrow();
                        __b.resolver.clone()
                    })
                    .borrow()
                    .get::<crate::HxDynRef<
                        dyn Fn(hxrt::string::HxString) -> u32 + Send + Sync,
                    >>("resolveClass")(
                        hxrt::string::HxString::from(name.clone())
                    );
                    if cl == 0u32 {
                        hxrt::exception::throw(hxrt::dynamic::from(hxrt::string::HxString::from(
                            format!("{}{}", "Class not found ", &name),
                        )));
                    }
                    return hxrt::dynamic::from(cl);
                }
                66 => {
                    let name_2: hxrt::string::HxString = {
                        let __hx_dyn =
                            crate::haxe_unserializer::Unserializer::unserialize(&*__hx_this);
                        if __hx_dyn.is_null() {
                            hxrt::string::HxString::null()
                        } else {
                            if __hx_dyn.downcast_ref::<String>().is_some() {
                                hxrt::string::HxString::from(
                                    __hx_dyn.downcast_ref::<String>().unwrap().clone(),
                                )
                            } else {
                                if __hx_dyn.downcast_ref::<hxrt::string::HxString>().is_some() {
                                    __hx_dyn
                                        .downcast_ref::<hxrt::string::HxString>()
                                        .unwrap()
                                        .clone()
                                } else {
                                    hxrt::exception::throw(hxrt::dynamic::from(String::from(
                                        "Null Access",
                                    )))
                                }
                            }
                        }
                    };
                    let e: u32 = ({
                        let __b = __hx_this.borrow();
                        __b.resolver.clone()
                    })
                    .borrow()
                    .get::<crate::HxDynRef<
                        dyn Fn(hxrt::string::HxString) -> u32 + Send + Sync,
                    >>("resolveEnum")(
                        hxrt::string::HxString::from(name_2.clone())
                    );
                    if e == 0u32 {
                        hxrt::exception::throw(hxrt::dynamic::from(hxrt::string::HxString::from(
                            format!("{}{}", "Enum not found ", &name_2),
                        )));
                    }
                    return hxrt::dynamic::from(e);
                }
                67 => {
                    let name_3: hxrt::string::HxString = {
                        let __hx_dyn =
                            crate::haxe_unserializer::Unserializer::unserialize(&*__hx_this);
                        if __hx_dyn.is_null() {
                            hxrt::string::HxString::null()
                        } else {
                            if __hx_dyn.downcast_ref::<String>().is_some() {
                                hxrt::string::HxString::from(
                                    __hx_dyn.downcast_ref::<String>().unwrap().clone(),
                                )
                            } else {
                                if __hx_dyn.downcast_ref::<hxrt::string::HxString>().is_some() {
                                    __hx_dyn
                                        .downcast_ref::<hxrt::string::HxString>()
                                        .unwrap()
                                        .clone()
                                } else {
                                    hxrt::exception::throw(hxrt::dynamic::from(String::from(
                                        "Null Access",
                                    )))
                                }
                            }
                        }
                    };
                    let cl_2: u32 = ({
                        let __b = __hx_this.borrow();
                        __b.resolver.clone()
                    })
                    .borrow()
                    .get::<crate::HxDynRef<
                        dyn Fn(hxrt::string::HxString) -> u32 + Send + Sync,
                    >>("resolveClass")(
                        hxrt::string::HxString::from(name_3.clone())
                    );
                    if cl_2 == 0u32 {
                        hxrt::exception::throw(hxrt::dynamic::from(hxrt::string::HxString::from(
                            format!("{}{}", "Class not found ", &name_3),
                        )));
                    }
                    let o: hxrt::dynamic::Dynamic = {
                        let _ = cl_2;
                        hxrt::dynamic::Dynamic::null()
                    };
                    ({
                        let __b = __hx_this.borrow();
                        __b.cache.clone()
                    })
                    .push(o.clone());
                    {
                        let __hx_dyn = hxrt::dynamic::field_get(&o, "hxUnserialize");
                        let __hx_f = __hx_dyn.downcast_ref::<crate::HxDynRef<
                            dyn Fn(
                                    crate::HxRef<crate::haxe_unserializer::Unserializer>,
                                ) -> hxrt::dynamic::Dynamic
                                + Send
                                + Sync,
                        >>();
                        if __hx_dyn.is_null() {
                            hxrt::exception::throw(hxrt::dynamic::from(String::from("Null Access")))
                        } else {
                            if __hx_f.is_some() {
                                __hx_f.unwrap().clone()(__hx_this.clone())
                            } else {
                                hxrt::exception::throw(hxrt::dynamic::from(String::from(
                                    "Dynamic call on non-function value",
                                )))
                            }
                        }
                    };
                    if ({
                        let p_2: i32 = {
                            let __tmp = self_.borrow().pos;
                            self_.borrow_mut().pos = __tmp + 1;
                            __tmp
                        };
                        crate::string_tools::StringTools::fast_code_at(
                            hxrt::string::HxString::from({
                                let __b = __hx_this.borrow();
                                __b.buf.clone()
                            }),
                            p_2,
                        )
                    }) != 103
                    {
                        hxrt::exception::throw(hxrt::dynamic::from(hxrt::string::HxString::from(
                            "Invalid custom data",
                        )));
                    }
                    return o;
                }
                77 => {
                    let h: crate::HxRef<
                        crate::haxe_ds_object_map::ObjectMap<
                            crate::HxRef<hxrt::anon::Anon>,
                            hxrt::dynamic::Dynamic,
                        >,
                    > = crate::haxe_ds_object_map::ObjectMap::<
                        crate::HxRef<hxrt::anon::Anon>,
                        hxrt::dynamic::Dynamic,
                    >::new();
                    ({
                        let __b = __hx_this.borrow();
                        __b.cache.clone()
                    })
                    .push(hxrt::dynamic::from_ref_with_type_id(
                        h.clone(),
                        0xd7e07825u32,
                    ));
                    let buf: hxrt::string::HxString = hxrt::string::HxString::from({
                        let __b = __hx_this.borrow();
                        __b.buf.clone()
                    });
                    while ({
                        let p_3: i32 = {
                            let __b = __hx_this.borrow();
                            __b.pos
                        };
                        crate::string_tools::StringTools::fast_code_at(
                            hxrt::string::HxString::from({
                                let __b = __hx_this.borrow();
                                __b.buf.clone()
                            }),
                            p_3,
                        )
                    }) != 104
                    {
                        let s: crate::HxRef<hxrt::anon::Anon> = {
                            let __hx_dyn =
                                crate::haxe_unserializer::Unserializer::unserialize(&*__hx_this);
                            if __hx_dyn.is_null() {
                                hxrt::exception::throw(hxrt::dynamic::from(String::from(
                                    "Null Access",
                                )))
                            } else {
                                __hx_dyn
                                    .downcast_ref::<crate::HxRef<hxrt::anon::Anon>>()
                                    .unwrap()
                                    .clone()
                            }
                        };
                        crate::haxe_ds_object_map::ObjectMap::set(
                            &*h,
                            s.clone(),
                            crate::haxe_unserializer::Unserializer::unserialize(&*__hx_this),
                        );
                    }
                    {
                        let __tmp = self_.borrow().pos;
                        self_.borrow_mut().pos = __tmp + 1;
                        __tmp
                    };
                    return hxrt::dynamic::from_ref_with_type_id(h.clone(), 0xd7e07825u32);
                }
                82 => {
                    let n: i32 = crate::haxe_unserializer::Unserializer::read_digits(&*__hx_this);
                    if n < 0
                        || n >= (({
                            let __b = __hx_this.borrow();
                            __b.scache.clone()
                        })
                        .len() as i32)
                    {
                        hxrt::exception::throw(hxrt::dynamic::from(hxrt::string::HxString::from(
                            "Invalid string reference",
                        )));
                    }
                    return hxrt::dynamic::from(
                        ({
                            let __b = __hx_this.borrow();
                            __b.scache.clone()
                        })
                        .get_unchecked(n as usize),
                    );
                }
                97 => {
                    let buf_2: hxrt::string::HxString = hxrt::string::HxString::from({
                        let __b = __hx_this.borrow();
                        __b.buf.clone()
                    });
                    let a: hxrt::array::Array<hxrt::dynamic::Dynamic> =
                        hxrt::array::Array::<hxrt::dynamic::Dynamic>::new();
                    ({
                        let __b = __hx_this.borrow();
                        __b.cache.clone()
                    })
                    .push(hxrt::dynamic::from_ref(a.clone()));
                    loop {
                        let c: i32 = {
                            let p_4: i32 = {
                                let __b = __hx_this.borrow();
                                __b.pos
                            };
                            crate::string_tools::StringTools::fast_code_at(
                                hxrt::string::HxString::from({
                                    let __b = __hx_this.borrow();
                                    __b.buf.clone()
                                }),
                                p_4,
                            )
                        };
                        if c == 104 {
                            {
                                let __tmp = self_.borrow().pos;
                                self_.borrow_mut().pos = __tmp + 1;
                                __tmp
                            };
                            break;
                        }
                        if c == 117 {
                            {
                                let __tmp = self_.borrow().pos;
                                self_.borrow_mut().pos = __tmp + 1;
                                __tmp
                            };
                            let n_2: i32 =
                                crate::haxe_unserializer::Unserializer::read_digits(&*__hx_this);
                            {
                                let __tmp = hxrt::dynamic::Dynamic::null();
                                a.set_haxe(
                                    (a.len() as i32 + n_2 - 1) as usize,
                                    __tmp.clone(),
                                    move || hxrt::dynamic::Dynamic::null(),
                                );
                                __tmp
                            };
                        } else {
                            a.push(crate::haxe_unserializer::Unserializer::unserialize(
                                &*__hx_this,
                            ));
                        }
                    }
                    return hxrt::dynamic::from_ref(a.clone());
                }
                98 => {
                    let h_2: crate::HxRef<
                        crate::haxe_ds_string_map::StringMap<hxrt::dynamic::Dynamic>,
                    > = crate::haxe_ds_string_map::StringMap::<hxrt::dynamic::Dynamic>::new();
                    ({
                        let __b = __hx_this.borrow();
                        __b.cache.clone()
                    })
                    .push(hxrt::dynamic::from_ref_with_type_id(
                        h_2.clone(),
                        0x181f937bu32,
                    ));
                    let buf_3: hxrt::string::HxString = hxrt::string::HxString::from({
                        let __b = __hx_this.borrow();
                        __b.buf.clone()
                    });
                    while ({
                        let p_5: i32 = {
                            let __b = __hx_this.borrow();
                            __b.pos
                        };
                        crate::string_tools::StringTools::fast_code_at(
                            hxrt::string::HxString::from({
                                let __b = __hx_this.borrow();
                                __b.buf.clone()
                            }),
                            p_5,
                        )
                    }) != 104
                    {
                        let s_2: hxrt::string::HxString = {
                            let __hx_dyn =
                                crate::haxe_unserializer::Unserializer::unserialize(&*__hx_this);
                            if __hx_dyn.is_null() {
                                hxrt::string::HxString::null()
                            } else {
                                if __hx_dyn.downcast_ref::<String>().is_some() {
                                    hxrt::string::HxString::from(
                                        __hx_dyn.downcast_ref::<String>().unwrap().clone(),
                                    )
                                } else {
                                    if __hx_dyn.downcast_ref::<hxrt::string::HxString>().is_some() {
                                        __hx_dyn
                                            .downcast_ref::<hxrt::string::HxString>()
                                            .unwrap()
                                            .clone()
                                    } else {
                                        hxrt::exception::throw(hxrt::dynamic::from(String::from(
                                            "Null Access",
                                        )))
                                    }
                                }
                            }
                        };
                        crate::haxe_ds_string_map::StringMap::set(
                            &*h_2,
                            hxrt::string::HxString::from(s_2.clone()),
                            crate::haxe_unserializer::Unserializer::unserialize(&*__hx_this),
                        );
                    }
                    {
                        let __tmp = self_.borrow().pos;
                        self_.borrow_mut().pos = __tmp + 1;
                        __tmp
                    };
                    return hxrt::dynamic::from_ref_with_type_id(h_2.clone(), 0x181f937bu32);
                }
                99 => {
                    let name_4: hxrt::string::HxString = {
                        let __hx_dyn =
                            crate::haxe_unserializer::Unserializer::unserialize(&*__hx_this);
                        if __hx_dyn.is_null() {
                            hxrt::string::HxString::null()
                        } else {
                            if __hx_dyn.downcast_ref::<String>().is_some() {
                                hxrt::string::HxString::from(
                                    __hx_dyn.downcast_ref::<String>().unwrap().clone(),
                                )
                            } else {
                                if __hx_dyn.downcast_ref::<hxrt::string::HxString>().is_some() {
                                    __hx_dyn
                                        .downcast_ref::<hxrt::string::HxString>()
                                        .unwrap()
                                        .clone()
                                } else {
                                    hxrt::exception::throw(hxrt::dynamic::from(String::from(
                                        "Null Access",
                                    )))
                                }
                            }
                        }
                    };
                    let cl_3: u32 = ({
                        let __b = __hx_this.borrow();
                        __b.resolver.clone()
                    })
                    .borrow()
                    .get::<crate::HxDynRef<
                        dyn Fn(hxrt::string::HxString) -> u32 + Send + Sync,
                    >>("resolveClass")(
                        hxrt::string::HxString::from(name_4.clone())
                    );
                    if cl_3 == 0u32 {
                        hxrt::exception::throw(hxrt::dynamic::from(hxrt::string::HxString::from(
                            format!("{}{}", "Class not found ", &name_4),
                        )));
                    }
                    let o_2: crate::HxRef<hxrt::anon::Anon> = {
                        let _ = cl_3;
                        crate::HxRef::new(hxrt::anon::Anon::new())
                    };
                    ({
                        let __b = __hx_this.borrow();
                        __b.cache.clone()
                    })
                    .push(hxrt::dynamic::from_ref(o_2.clone()));
                    crate::haxe_unserializer::Unserializer::unserialize_object(
                        &*__hx_this,
                        o_2.clone(),
                    );
                    return hxrt::dynamic::from_ref(o_2.clone());
                }
                100 => {
                    return hxrt::dynamic::from(
                        crate::haxe_unserializer::Unserializer::read_float(&*__hx_this),
                    );
                }
                102 => {
                    return hxrt::dynamic::from(false);
                }
                105 => {
                    return hxrt::dynamic::from(
                        crate::haxe_unserializer::Unserializer::read_digits(&*__hx_this),
                    );
                }
                106 => {
                    let name_5: hxrt::string::HxString = {
                        let __hx_dyn =
                            crate::haxe_unserializer::Unserializer::unserialize(&*__hx_this);
                        if __hx_dyn.is_null() {
                            hxrt::string::HxString::null()
                        } else {
                            if __hx_dyn.downcast_ref::<String>().is_some() {
                                hxrt::string::HxString::from(
                                    __hx_dyn.downcast_ref::<String>().unwrap().clone(),
                                )
                            } else {
                                if __hx_dyn.downcast_ref::<hxrt::string::HxString>().is_some() {
                                    __hx_dyn
                                        .downcast_ref::<hxrt::string::HxString>()
                                        .unwrap()
                                        .clone()
                                } else {
                                    hxrt::exception::throw(hxrt::dynamic::from(String::from(
                                        "Null Access",
                                    )))
                                }
                            }
                        }
                    };
                    let edecl: u32 = ({
                        let __b = __hx_this.borrow();
                        __b.resolver.clone()
                    })
                    .borrow()
                    .get::<crate::HxDynRef<
                        dyn Fn(hxrt::string::HxString) -> u32 + Send + Sync,
                    >>("resolveEnum")(
                        hxrt::string::HxString::from(name_5.clone())
                    );
                    if edecl == 0u32 {
                        hxrt::exception::throw(hxrt::dynamic::from(hxrt::string::HxString::from(
                            format!("{}{}", "Enum not found ", &name_5),
                        )));
                    }
                    {
                        let __tmp = self_.borrow().pos;
                        self_.borrow_mut().pos = __tmp + 1;
                        __tmp
                    };
                    let index: i32 =
                        crate::haxe_unserializer::Unserializer::read_digits(&*__hx_this);
                    let tag: hxrt::string::HxString = hxrt::string::HxString::from(
                        ({
                            let _ = edecl;
                            hxrt::array::Array::<String>::new()
                        })
                        .get_unchecked(index as usize),
                    );
                    if tag == hxrt::string::HxString::null() {
                        hxrt::exception::throw(hxrt::dynamic::from(hxrt::string::HxString::from(
                            format!(
                                "{}{}{}{}",
                                "Unknown enum index ",
                                &name_5,
                                "@",
                                hxrt::dynamic::from(index).to_haxe_string()
                            ),
                        )));
                    }
                    let e_2: hxrt::dynamic::Dynamic =
                        crate::haxe_unserializer::Unserializer::unserialize_enum(
                            &*__hx_this,
                            edecl,
                            hxrt::string::HxString::from(tag.clone()),
                        );
                    ({
                        let __b = __hx_this.borrow();
                        __b.cache.clone()
                    })
                    .push(e_2.clone());
                    return e_2;
                }
                107 => {
                    return hxrt::dynamic::from(f64::NAN);
                }
                108 => {
                    let l: crate::HxRef<crate::haxe_ds_list::List<hxrt::dynamic::Dynamic>> =
                        crate::haxe_ds_list::List::<hxrt::dynamic::Dynamic>::new();
                    ({
                        let __b = __hx_this.borrow();
                        __b.cache.clone()
                    })
                    .push(hxrt::dynamic::from_ref_with_type_id(
                        l.clone(),
                        0xd0de220eu32,
                    ));
                    let buf_4: hxrt::string::HxString = hxrt::string::HxString::from({
                        let __b = __hx_this.borrow();
                        __b.buf.clone()
                    });
                    while ({
                        let p_6: i32 = {
                            let __b = __hx_this.borrow();
                            __b.pos
                        };
                        crate::string_tools::StringTools::fast_code_at(
                            hxrt::string::HxString::from({
                                let __b = __hx_this.borrow();
                                __b.buf.clone()
                            }),
                            p_6,
                        )
                    }) != 104
                    {
                        crate::haxe_ds_list::List::add(
                            &*l,
                            crate::haxe_unserializer::Unserializer::unserialize(&*__hx_this),
                        );
                    }
                    {
                        let __tmp = self_.borrow().pos;
                        self_.borrow_mut().pos = __tmp + 1;
                        __tmp
                    };
                    return hxrt::dynamic::from_ref_with_type_id(l.clone(), 0xd0de220eu32);
                }
                109 => {
                    return hxrt::dynamic::from(f64::NEG_INFINITY);
                }
                110 => {
                    return hxrt::dynamic::Dynamic::null();
                }
                111 => {
                    let o_3: crate::HxRef<hxrt::anon::Anon> = {
                        let __o = crate::HxRef::new(hxrt::anon::Anon::new());
                        {
                            let mut __b = __o.borrow_mut();
                        };
                        __o
                    };
                    ({
                        let __b = __hx_this.borrow();
                        __b.cache.clone()
                    })
                    .push(hxrt::dynamic::from_ref(o_3.clone()));
                    crate::haxe_unserializer::Unserializer::unserialize_object(
                        &*__hx_this,
                        o_3.clone(),
                    );
                    return hxrt::dynamic::from_ref(o_3.clone());
                }
                112 => {
                    return hxrt::dynamic::from(f64::INFINITY);
                }
                113 => {
                    let h_3: crate::HxRef<crate::haxe_ds_int_map::IntMap<hxrt::dynamic::Dynamic>> =
                        crate::haxe_ds_int_map::IntMap::<hxrt::dynamic::Dynamic>::new();
                    ({
                        let __b = __hx_this.borrow();
                        __b.cache.clone()
                    })
                    .push(hxrt::dynamic::from_ref_with_type_id(
                        h_3.clone(),
                        0x39e0cd5bu32,
                    ));
                    let buf_5: hxrt::string::HxString = hxrt::string::HxString::from({
                        let __b = __hx_this.borrow();
                        __b.buf.clone()
                    });
                    let mut c_2: i32 = {
                        let p_7: i32 = {
                            let __tmp = self_.borrow().pos;
                            self_.borrow_mut().pos = __tmp + 1;
                            __tmp
                        };
                        crate::string_tools::StringTools::fast_code_at(
                            hxrt::string::HxString::from({
                                let __b = __hx_this.borrow();
                                __b.buf.clone()
                            }),
                            p_7,
                        )
                    };
                    while c_2 == 58 {
                        let i: i32 =
                            crate::haxe_unserializer::Unserializer::read_digits(&*__hx_this);
                        crate::haxe_ds_int_map::IntMap::set(
                            &*h_3,
                            i,
                            crate::haxe_unserializer::Unserializer::unserialize(&*__hx_this),
                        );
                        c_2 = {
                            let p_8: i32 = {
                                let __tmp = self_.borrow().pos;
                                self_.borrow_mut().pos = __tmp + 1;
                                __tmp
                            };
                            crate::string_tools::StringTools::fast_code_at(
                                hxrt::string::HxString::from({
                                    let __b = __hx_this.borrow();
                                    __b.buf.clone()
                                }),
                                p_8,
                            )
                        };
                    }
                    if c_2 != 104 {
                        hxrt::exception::throw(hxrt::dynamic::from(hxrt::string::HxString::from(
                            "Invalid IntMap format",
                        )));
                    }
                    return hxrt::dynamic::from_ref_with_type_id(h_3.clone(), 0x39e0cd5bu32);
                }
                114 => {
                    let n_3: i32 = crate::haxe_unserializer::Unserializer::read_digits(&*__hx_this);
                    if n_3 < 0
                        || n_3
                            >= (({
                                let __b = __hx_this.borrow();
                                __b.cache.clone()
                            })
                            .len() as i32)
                    {
                        hxrt::exception::throw(hxrt::dynamic::from(hxrt::string::HxString::from(
                            "Invalid reference",
                        )));
                    }
                    return ({
                        let __b = __hx_this.borrow();
                        __b.cache.clone()
                    })
                    .get_unchecked(n_3 as usize);
                }
                115 => {
                    let len: i32 = crate::haxe_unserializer::Unserializer::read_digits(&*__hx_this);
                    let buf_6: hxrt::string::HxString = hxrt::string::HxString::from({
                        let __b = __hx_this.borrow();
                        __b.buf.clone()
                    });
                    if ({
                        let p_9: i32 = {
                            let __tmp = self_.borrow().pos;
                            self_.borrow_mut().pos = __tmp + 1;
                            __tmp
                        };
                        crate::string_tools::StringTools::fast_code_at(
                            hxrt::string::HxString::from({
                                let __b = __hx_this.borrow();
                                __b.buf.clone()
                            }),
                            p_9,
                        )
                    }) != 58
                        || ({
                            let __b = __hx_this.borrow();
                            __b.length
                        }) - ({
                            let __b = __hx_this.borrow();
                            __b.pos
                        }) < len
                    {
                        hxrt::exception::throw(hxrt::dynamic::from(hxrt::string::HxString::from(
                            "Invalid bytes length",
                        )));
                    }
                    let mut codes: hxrt::array::Array<i32> =
                        crate::haxe_unserializer::__hx_static_get_codes();
                    if codes.is_null() {
                        codes = crate::haxe_unserializer::Unserializer::init_codes();
                        {
                            let __tmp = codes.clone();
                            crate::haxe_unserializer::__hx_static_set_codes(__tmp.clone());
                            __tmp
                        };
                    }
                    let mut i_2: i32 = {
                        let __b = __hx_this.borrow();
                        __b.pos
                    };
                    let rest: i32 = len & 3;
                    let size: i32 = (len >> 2) * 3 + (if rest >= 2 { rest - 1 } else { 0 });
                    let max: i32 = i_2 + (len - rest);
                    let bytes: crate::HxRef<hxrt::bytes::Bytes> =
                        crate::HxRef::new(hxrt::bytes::Bytes::alloc(size as usize));
                    let mut bpos: i32 = 0;
                    while i_2 < max {
                        let c1: i32 =
                            codes.get_unchecked(crate::string_tools::StringTools::fast_code_at(
                                hxrt::string::HxString::from(buf_6.clone()),
                                {
                                    let __tmp = i_2;
                                    i_2 = i_2 + 1;
                                    __tmp
                                },
                            ) as usize);
                        let c2: i32 =
                            codes.get_unchecked(crate::string_tools::StringTools::fast_code_at(
                                hxrt::string::HxString::from(buf_6.clone()),
                                {
                                    let __tmp = i_2;
                                    i_2 = i_2 + 1;
                                    __tmp
                                },
                            ) as usize);
                        bytes.borrow_mut().set(
                            {
                                let __tmp = bpos;
                                bpos = bpos + 1;
                                __tmp
                            },
                            c1 << 2 | c2 >> 4,
                        );
                        let c3: i32 =
                            codes.get_unchecked(crate::string_tools::StringTools::fast_code_at(
                                hxrt::string::HxString::from(buf_6.clone()),
                                {
                                    let __tmp = i_2;
                                    i_2 = i_2 + 1;
                                    __tmp
                                },
                            ) as usize);
                        bytes.borrow_mut().set(
                            {
                                let __tmp = bpos;
                                bpos = bpos + 1;
                                __tmp
                            },
                            c2 << 4 | c3 >> 2,
                        );
                        let c4: i32 =
                            codes.get_unchecked(crate::string_tools::StringTools::fast_code_at(
                                hxrt::string::HxString::from(buf_6.clone()),
                                {
                                    let __tmp = i_2;
                                    i_2 = i_2 + 1;
                                    __tmp
                                },
                            ) as usize);
                        bytes.borrow_mut().set(
                            {
                                let __tmp = bpos;
                                bpos = bpos + 1;
                                __tmp
                            },
                            c3 << 6 | c4,
                        );
                    }
                    if rest >= 2 {
                        let c1_2: i32 =
                            codes.get_unchecked(crate::string_tools::StringTools::fast_code_at(
                                hxrt::string::HxString::from(buf_6.clone()),
                                {
                                    let __tmp = i_2;
                                    i_2 = i_2 + 1;
                                    __tmp
                                },
                            ) as usize);
                        let c2_2: i32 =
                            codes.get_unchecked(crate::string_tools::StringTools::fast_code_at(
                                hxrt::string::HxString::from(buf_6.clone()),
                                {
                                    let __tmp = i_2;
                                    i_2 = i_2 + 1;
                                    __tmp
                                },
                            ) as usize);
                        bytes.borrow_mut().set(
                            {
                                let __tmp = bpos;
                                bpos = bpos + 1;
                                __tmp
                            },
                            c1_2 << 2 | c2_2 >> 4,
                        );
                        if rest == 3 {
                            let c3_2: i32 = codes.get_unchecked(
                                crate::string_tools::StringTools::fast_code_at(
                                    hxrt::string::HxString::from(buf_6.clone()),
                                    {
                                        let __tmp = i_2;
                                        i_2 = i_2 + 1;
                                        __tmp
                                    },
                                ) as usize,
                            );
                            bytes.borrow_mut().set(
                                {
                                    let __tmp = bpos;
                                    bpos = bpos + 1;
                                    __tmp
                                },
                                c2_2 << 4 | c3_2 >> 2,
                            );
                        }
                    }
                    {
                        let __rhs = len;
                        let __tmp = self_.borrow().pos + __rhs;
                        self_.borrow_mut().pos = __tmp;
                        __tmp
                    };
                    ({
                        let __b = __hx_this.borrow();
                        __b.cache.clone()
                    })
                    .push(hxrt::dynamic::from_ref(bytes.clone()));
                    return hxrt::dynamic::from_ref(bytes.clone());
                }
                116 => {
                    return hxrt::dynamic::from(true);
                }
                118 => {
                    let mut d: crate::HxRef<crate::date::Date>;
                    if ({
                        let p_10: i32 = {
                            let __b = __hx_this.borrow();
                            __b.pos
                        };
                        crate::string_tools::StringTools::fast_code_at(
                            hxrt::string::HxString::from({
                                let __b = __hx_this.borrow();
                                __b.buf.clone()
                            }),
                            p_10,
                        )
                    }) >= 48
                        && ({
                            let p_11: i32 = {
                                let __b = __hx_this.borrow();
                                __b.pos
                            };
                            crate::string_tools::StringTools::fast_code_at(
                                hxrt::string::HxString::from({
                                    let __b = __hx_this.borrow();
                                    __b.buf.clone()
                                }),
                                p_11,
                            )
                        }) <= 57
                        && ({
                            let p_12: i32 = ({
                                let __b = __hx_this.borrow();
                                __b.pos
                            }) + 1;
                            crate::string_tools::StringTools::fast_code_at(
                                hxrt::string::HxString::from({
                                    let __b = __hx_this.borrow();
                                    __b.buf.clone()
                                }),
                                p_12,
                            )
                        }) >= 48
                        && ({
                            let p_13: i32 = ({
                                let __b = __hx_this.borrow();
                                __b.pos
                            }) + 1;
                            crate::string_tools::StringTools::fast_code_at(
                                hxrt::string::HxString::from({
                                    let __b = __hx_this.borrow();
                                    __b.buf.clone()
                                }),
                                p_13,
                            )
                        }) <= 57
                        && ({
                            let p_14: i32 = ({
                                let __b = __hx_this.borrow();
                                __b.pos
                            }) + 2;
                            crate::string_tools::StringTools::fast_code_at(
                                hxrt::string::HxString::from({
                                    let __b = __hx_this.borrow();
                                    __b.buf.clone()
                                }),
                                p_14,
                            )
                        }) >= 48
                        && ({
                            let p_15: i32 = ({
                                let __b = __hx_this.borrow();
                                __b.pos
                            }) + 2;
                            crate::string_tools::StringTools::fast_code_at(
                                hxrt::string::HxString::from({
                                    let __b = __hx_this.borrow();
                                    __b.buf.clone()
                                }),
                                p_15,
                            )
                        }) <= 57
                        && ({
                            let p_16: i32 = ({
                                let __b = __hx_this.borrow();
                                __b.pos
                            }) + 3;
                            crate::string_tools::StringTools::fast_code_at(
                                hxrt::string::HxString::from({
                                    let __b = __hx_this.borrow();
                                    __b.buf.clone()
                                }),
                                p_16,
                            )
                        }) >= 48
                        && ({
                            let p_17: i32 = ({
                                let __b = __hx_this.borrow();
                                __b.pos
                            }) + 3;
                            crate::string_tools::StringTools::fast_code_at(
                                hxrt::string::HxString::from({
                                    let __b = __hx_this.borrow();
                                    __b.buf.clone()
                                }),
                                p_17,
                            )
                        }) <= 57
                        && ({
                            let p_18: i32 = ({
                                let __b = __hx_this.borrow();
                                __b.pos
                            }) + 4;
                            crate::string_tools::StringTools::fast_code_at(
                                hxrt::string::HxString::from({
                                    let __b = __hx_this.borrow();
                                    __b.buf.clone()
                                }),
                                p_18,
                            )
                        }) == 45
                    {
                        d = crate::date::Date::from_string(hxrt::string::HxString::from({
                            let s_3: hxrt::string::HxString = hxrt::string::HxString::from({
                                let __b = __hx_this.borrow();
                                __b.buf.clone()
                            });
                            let pos: i32 = {
                                let __b = __hx_this.borrow();
                                __b.pos
                            };
                            hxrt::string::HxString::from(hxrt::string::substr(
                                s_3.as_str(),
                                pos,
                                Some(19),
                            ))
                        }));
                        {
                            let __rhs = 19;
                            let __tmp = self_.borrow().pos + __rhs;
                            self_.borrow_mut().pos = __tmp;
                            __tmp
                        };
                    } else {
                        d = crate::date::Date::from_time(
                            crate::haxe_unserializer::Unserializer::read_float(&*__hx_this),
                        );
                    }
                    ({
                        let __b = __hx_this.borrow();
                        __b.cache.clone()
                    })
                    .push(hxrt::dynamic::from_ref_with_type_id(
                        d.clone(),
                        0x0d3c0cadu32,
                    ));
                    return hxrt::dynamic::from_ref_with_type_id(d.clone(), 0x0d3c0cadu32);
                }
                119 => {
                    let name_6: hxrt::string::HxString = {
                        let __hx_dyn =
                            crate::haxe_unserializer::Unserializer::unserialize(&*__hx_this);
                        if __hx_dyn.is_null() {
                            hxrt::string::HxString::null()
                        } else {
                            if __hx_dyn.downcast_ref::<String>().is_some() {
                                hxrt::string::HxString::from(
                                    __hx_dyn.downcast_ref::<String>().unwrap().clone(),
                                )
                            } else {
                                if __hx_dyn.downcast_ref::<hxrt::string::HxString>().is_some() {
                                    __hx_dyn
                                        .downcast_ref::<hxrt::string::HxString>()
                                        .unwrap()
                                        .clone()
                                } else {
                                    hxrt::exception::throw(hxrt::dynamic::from(String::from(
                                        "Null Access",
                                    )))
                                }
                            }
                        }
                    };
                    let edecl_2: u32 = ({
                        let __b = __hx_this.borrow();
                        __b.resolver.clone()
                    })
                    .borrow()
                    .get::<crate::HxDynRef<
                        dyn Fn(hxrt::string::HxString) -> u32 + Send + Sync,
                    >>("resolveEnum")(
                        hxrt::string::HxString::from(name_6.clone())
                    );
                    if edecl_2 == 0u32 {
                        hxrt::exception::throw(hxrt::dynamic::from(hxrt::string::HxString::from(
                            format!("{}{}", "Enum not found ", &name_6),
                        )));
                    }
                    let e_3: hxrt::dynamic::Dynamic =
                        crate::haxe_unserializer::Unserializer::unserialize_enum(
                            &*__hx_this,
                            edecl_2,
                            {
                                let __hx_dyn = crate::haxe_unserializer::Unserializer::unserialize(
                                    &*__hx_this,
                                );
                                if __hx_dyn.is_null() {
                                    hxrt::string::HxString::null()
                                } else {
                                    if __hx_dyn.downcast_ref::<String>().is_some() {
                                        hxrt::string::HxString::from(
                                            __hx_dyn.downcast_ref::<String>().unwrap().clone(),
                                        )
                                    } else {
                                        if __hx_dyn
                                            .downcast_ref::<hxrt::string::HxString>()
                                            .is_some()
                                        {
                                            __hx_dyn
                                                .downcast_ref::<hxrt::string::HxString>()
                                                .unwrap()
                                                .clone()
                                        } else {
                                            hxrt::exception::throw(hxrt::dynamic::from(
                                                String::from("Null Access"),
                                            ))
                                        }
                                    }
                                }
                            },
                        );
                    ({
                        let __b = __hx_this.borrow();
                        __b.cache.clone()
                    })
                    .push(e_3.clone());
                    return e_3;
                }
                120 => {
                    hxrt::exception::throw(hxrt::dynamic::from(
                        crate::haxe_unserializer::Unserializer::unserialize(&*__hx_this),
                    ));
                }
                121 => {
                    let len_2: i32 =
                        crate::haxe_unserializer::Unserializer::read_digits(&*__hx_this);
                    if ({
                        let p_19: i32 = {
                            let __tmp = self_.borrow().pos;
                            self_.borrow_mut().pos = __tmp + 1;
                            __tmp
                        };
                        crate::string_tools::StringTools::fast_code_at(
                            hxrt::string::HxString::from({
                                let __b = __hx_this.borrow();
                                __b.buf.clone()
                            }),
                            p_19,
                        )
                    }) != 58
                        || ({
                            let __b = __hx_this.borrow();
                            __b.length
                        }) - ({
                            let __b = __hx_this.borrow();
                            __b.pos
                        }) < len_2
                    {
                        hxrt::exception::throw(hxrt::dynamic::from(hxrt::string::HxString::from(
                            "Invalid string length",
                        )));
                    }
                    let mut s_4: hxrt::string::HxString = hxrt::string::HxString::from({
                        let s_5: hxrt::string::HxString = hxrt::string::HxString::from({
                            let __b = __hx_this.borrow();
                            __b.buf.clone()
                        });
                        let pos_2: i32 = {
                            let __b = __hx_this.borrow();
                            __b.pos
                        };
                        hxrt::string::HxString::from(hxrt::string::substr(
                            s_5.as_str(),
                            pos_2,
                            Some(len_2),
                        ))
                    });
                    {
                        let __rhs = len_2;
                        let __tmp = self_.borrow().pos + __rhs;
                        self_.borrow_mut().pos = __tmp;
                        __tmp
                    };
                    s_4 =
                        hxrt::string::HxString::from(crate::string_tools::StringTools::url_decode(
                            hxrt::string::HxString::from(s_4.clone()),
                        ));
                    ({
                        let __b = __hx_this.borrow();
                        __b.scache.clone()
                    })
                    .push(hxrt::string::HxString::from(s_4.clone()));
                    return hxrt::dynamic::from(s_4.clone());
                }
                122 => {
                    return hxrt::dynamic::from(0);
                }
                _ => {}
            }
        }
        {
            let __tmp = self_.borrow().pos;
            self_.borrow_mut().pos = __tmp - 1;
            __tmp
        };
        hxrt::exception::throw(hxrt::dynamic::from(hxrt::string::HxString::from(format!(
            "{}{}{}{}",
            "Invalid char ",
            {
                let s_6: hxrt::string::HxString = hxrt::string::HxString::from({
                    let __b = __hx_this.borrow();
                    __b.buf.clone()
                });
                let pos_3: i32 = {
                    let __b = __hx_this.borrow();
                    __b.pos
                };
                hxrt::string::HxString::from(hxrt::string::char_at(s_6.as_str(), pos_3))
            },
            " at position ",
            hxrt::dynamic::from({
                let __b = __hx_this.borrow();
                __b.pos
            })
            .to_haxe_string()
        ))));
    }

    fn init_codes() -> hxrt::array::Array<i32> {
        let codes: hxrt::array::Array<i32> = hxrt::array::Array::<i32>::new();
        {
            let mut _g: i32 = 0;
            let _g1: i32 =
                hxrt::string::len(crate::haxe_unserializer::__hx_static_get_base64().as_str());
            while _g < _g1 {
                let i: i32 = {
                    let __tmp = _g;
                    _g = _g + 1;
                    __tmp
                };
                {
                    let __tmp = i;
                    codes.set_haxe(
                        crate::string_tools::StringTools::fast_code_at(
                            hxrt::string::HxString::from(
                                crate::haxe_unserializer::__hx_static_get_base64(),
                            ),
                            i,
                        ) as usize,
                        __tmp,
                        move || 0,
                    );
                    __tmp
                };
            }
        }
        return codes;
    }

    pub fn run(v: hxrt::string::HxString) -> hxrt::dynamic::Dynamic {
        return crate::haxe_unserializer::Unserializer::unserialize(
            &*crate::haxe_unserializer::Unserializer::new(hxrt::string::HxString::from(v)),
        );
    }
}
