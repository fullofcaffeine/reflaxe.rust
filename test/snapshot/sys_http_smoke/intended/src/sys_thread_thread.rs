// Generated by reflaxe.rust (POC)

pub const __HX_TYPE_ID: u32 = 0x35260b66u32;

#[derive(Debug)]

pub struct Thread {
    _id: i32,
}

impl Thread {
    pub fn new(id: i32) -> crate::HxRef<crate::sys_thread_thread::Thread> {
        let self_: crate::HxRef<crate::sys_thread_thread::Thread> =
            crate::HxRc::new(crate::HxRefCell::new(Thread { _id: id }));
        return self_;
    }

    pub fn get_events(
        self_: &crate::HxRefCell<Thread>,
    ) -> crate::HxRef<crate::sys_thread_event_loop::EventLoop> {
        return crate::sys_thread_event_loop::EventLoop::_from_thread_id(self_.borrow()._id);
    }

    pub fn send_message(self_: &crate::HxRefCell<Thread>, msg: hxrt::dynamic::Dynamic) {
        hxrt::thread::thread_send_message(self_.borrow()._id, msg);
    }

    pub fn current() -> crate::HxRef<crate::sys_thread_thread::Thread> {
        let id: i32 = hxrt::thread::thread_current_id();
        return crate::sys_thread_thread::Thread::new(id);
    }

    pub fn create(
        job: crate::HxRc<dyn Fn() + Send + Sync>,
    ) -> crate::HxRef<crate::sys_thread_thread::Thread> {
        let id: i32 = hxrt::thread::thread_spawn(job);
        return crate::sys_thread_thread::Thread::new(id);
    }

    pub fn run_with_event_loop(job: crate::HxRc<dyn Fn() + Send + Sync>) {
        job();
        let id: i32 = hxrt::thread::thread_current_id();
        hxrt::thread::event_loop_loop(id);
    }

    pub fn create_with_event_loop(
        job: crate::HxRc<dyn Fn() + Send + Sync>,
    ) -> crate::HxRef<crate::sys_thread_thread::Thread> {
        let id: i32 = hxrt::thread::thread_spawn_with_event_loop(job);
        return crate::sys_thread_thread::Thread::new(id);
    }

    pub fn read_message(block: bool) -> hxrt::dynamic::Dynamic {
        return hxrt::thread::thread_read_message(block);
    }

    fn process_events() {
        crate::sys_thread_event_loop::EventLoop::progress(
            &crate::sys_thread_thread::Thread::get_events(
                &crate::sys_thread_thread::Thread::current(),
            ),
        );
    }
}
