// Generated by reflaxe.rust (POC)

pub const __HX_TYPE_ID: u32 = 0xee4111fdu32;

#[derive(Debug)]

pub struct StringIterator {
    offset: i32,
    s: String,
}

impl StringIterator {
    pub fn new(s: String) -> crate::HxRef<crate::haxe_iterators_string_iterator::StringIterator> {
        let self_: crate::HxRef<crate::haxe_iterators_string_iterator::StringIterator> =
            crate::HxRc::new(crate::HxRefCell::new(StringIterator { offset: 0, s: s }));
        return self_;
    }

    pub fn has_next(self_: &crate::HxRefCell<StringIterator>) -> bool {
        return self_.borrow().offset < hxrt::string::len(self_.borrow().s.clone().as_str());
    }

    pub fn next(self_: &crate::HxRefCell<StringIterator>) -> i32 {
        return {
            let s: String = self_.borrow().s.clone();
            let index: i32 = {
                let __tmp = self_.borrow().offset;
                self_.borrow_mut().offset = __tmp + 1;
                __tmp
            };
            crate::string_tools::StringTools::fast_code_at(s, index)
        };
    }
}
