// Generated by reflaxe.rust (POC)

#![allow(dead_code)]
#![allow(type_alias_bounds)]

type HxRc<T> = hxrt::cell::HxRc<T>;
type HxDynRef<T: ?Sized> = hxrt::cell::HxDynRef<T>;
type HxRefCell<T> = hxrt::cell::HxCell<T>;
type HxRef<T> = hxrt::cell::HxRef<T>;

mod haxe_call_stack_call_stack_impl_;
mod haxe_ds_enum_value_map;
mod haxe_ds_int_map;
mod haxe_ds_object_map;
mod haxe_ds_string_map;
mod haxe_exception;
mod haxe_i_map;
mod haxe_int64_int64;
mod haxe_int64_int64_impl_;
mod haxe_io_bytes_buffer;
mod haxe_io_encoding;
mod haxe_io_eof;
mod haxe_io_fp_helper;
mod haxe_io_input;
mod haxe_io_output;
mod haxe_stack_item;
mod string_buf;
mod sys;
mod sys_io_stderr;
mod sys_io_stdin;
mod sys_io_stdout;

/// Runtime subtype check for stable Haxe class type ids.
///
/// Generated by reflaxe.rust from the emitted class inheritance graph.
#[inline]
pub(crate) fn __hx_is_subtype_type_id(actual: u32, expected: u32) -> bool {
    if actual == expected {
        return true;
    }
    match actual {
        0x163b1f5au32 => matches!(expected, 0xe82620b4u32),
        0xfb16179cu32 => matches!(expected, 0xd50291cbu32),
        0x9402c169u32 => matches!(expected, 0xe82620b4u32),
        _ => false,
    }
}

fn main() {
    let a: hxrt::array::Array<i32> = hxrt::array::Array::<i32>::from_vec(vec![1, 2, 3, 4]);
    let mapped: hxrt::array::Array<i32> = {
        let _g: hxrt::array::Array<i32> = hxrt::array::Array::<i32>::new();
        {
            let mut _g1: i32 = 0;
            let _g2: hxrt::array::Array<i32> = a.clone();
            while _g1 < (_g2.len() as i32) {
                let v: i32 = _g2.get_unchecked(_g1 as usize);
                {
                    _g1 = _g1 + 1;
                    _g1
                };
                _g.push(v * 2);
            }
        }
        _g
    };
    let filtered: hxrt::array::Array<i32> = {
        let _g_2: hxrt::array::Array<i32> = hxrt::array::Array::<i32>::new();
        {
            let mut _g1_2: i32 = 0;
            let _g2_2: hxrt::array::Array<i32> = a.clone();
            while _g1_2 < (_g2_2.len() as i32) {
                let v_2: i32 = _g2_2.get_unchecked(_g1_2 as usize);
                {
                    _g1_2 = _g1_2 + 1;
                    _g1_2
                };
                if v_2 > 2 {
                    _g_2.push(v_2);
                }
            }
        }
        _g_2
    };
    let has_three: bool = {
        let mut found: bool = false;
        {
            let mut _g_3: i32 = 0;
            while _g_3 < (a.len() as i32) {
                let x: i32 = a.get_unchecked(_g_3 as usize);
                {
                    _g_3 = _g_3 + 1;
                    _g_3
                };
                if x == 3 {
                    found = true;
                    break;
                }
            }
        }
        found
    };
    let found_two: Option<i32> = {
        let mut found_2: Option<i32> = None;
        let mut i: i32 = 0;
        while i < (a.len() as i32) {
            let x_2: Option<i32> = a.get(i as usize);
            if {
                let x_3: i32 = {
                    let __hx_opt = x_2.clone();
                    match &__hx_opt {
                        Some(__v) => __v.clone(),
                        None => {
                            hxrt::exception::throw(hxrt::dynamic::from(String::from("Null Access")))
                        }
                    }
                };
                x_3 == 2
            } {
                found_2 = x_2;
                break;
            }
            {
                let __tmp = i;
                i = i + 1;
                __tmp
            };
        }
        found_2
    };
    let sum: i32 = {
        let mut first: i32 = 0;
        {
            let mut _g_4: i32 = 0;
            while _g_4 < (a.len() as i32) {
                let x_4: i32 = a.get_unchecked(_g_4 as usize);
                {
                    _g_4 = _g_4 + 1;
                    _g_4
                };
                first = first + x_4;
            }
        }
        first
    };
    crate::sys::Sys::println(hxrt::dynamic::from(mapped.len() as i32));
    crate::sys::Sys::println(hxrt::dynamic::from(filtered.len() as i32));
    crate::sys::Sys::println(hxrt::dynamic::from(has_three));
    crate::sys::Sys::println(hxrt::dynamic::from(found_two.is_none()));
    crate::sys::Sys::println(hxrt::dynamic::from(sum));
}
