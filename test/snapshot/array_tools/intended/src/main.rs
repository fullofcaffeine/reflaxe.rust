// Generated by reflaxe.rust (POC)

#![allow(dead_code)]

type HxRef<T> = std::rc::Rc<std::cell::RefCell<T>>;

mod sys;

fn main() {
    let a: hxrt::array::Array<i32> = hxrt::array::Array::<i32>::from_vec(vec![1, 2, 3, 4]);
    let mapped: hxrt::array::Array<i32> = {
        let _g: hxrt::array::Array<i32> = hxrt::array::Array::<i32>::new();
        {
            let mut _g1: i32 = 0;
            let _g2: hxrt::array::Array<i32> = a.clone();
            while _g1 < _g2.len() as i32 {
                let v: i32 = _g2.get_unchecked(_g1 as usize);
                {
                    _g1 = _g1 + 1;
                    _g1
                };
                _g.push(v * 2);
            }
        }
        _g
    };
    let filtered: hxrt::array::Array<i32> = {
        let _g_2: hxrt::array::Array<i32> = hxrt::array::Array::<i32>::new();
        {
            let mut _g1_2: i32 = 0;
            let _g2_2: hxrt::array::Array<i32> = a.clone();
            while _g1_2 < _g2_2.len() as i32 {
                let v_2: i32 = _g2_2.get_unchecked(_g1_2 as usize);
                {
                    _g1_2 = _g1_2 + 1;
                    _g1_2
                };
                if v_2 > 2 {
                    _g_2.push(v_2);
                }
            }
        }
        _g_2
    };
    let has_three: bool = {
        let mut found: bool = false;
        {
            let mut _g_3: i32 = 0;
            while _g_3 < a.len() as i32 {
                let x: i32 = a.get_unchecked(_g_3 as usize);
                {
                    _g_3 = _g_3 + 1;
                    _g_3
                };
                if x == 3 {
                    found = true;
                    break;
                }
            }
        }
        found
    };
    let found_two: Option<i32> = {
        let mut found_2: Option<i32> = None;
        let mut i: i32 = 0;
        while i < a.len() as i32 {
            let x_2: Option<i32> = a.get(i as usize);
            if {
                let x_3: i32 = x_2.unwrap();
                x_3 == 2
            } {
                found_2 = x_2;
                break;
            }
            {
                let __tmp = i;
                i = i + 1;
                __tmp
            };
        }
        found_2
    };
    let sum: i32 = {
        let mut first: i32 = 0;
        {
            let mut _g_4: i32 = 0;
            while _g_4 < a.len() as i32 {
                let x_4: i32 = a.get_unchecked(_g_4 as usize);
                {
                    _g_4 = _g_4 + 1;
                    _g_4
                };
                first = first + x_4;
            }
        }
        first
    };
    crate::sys::Sys::println(hxrt::dynamic::from(mapped.len() as i32));
    crate::sys::Sys::println(hxrt::dynamic::from(filtered.len() as i32));
    crate::sys::Sys::println(hxrt::dynamic::from(has_three));
    crate::sys::Sys::println(hxrt::dynamic::from(found_two.is_none()));
    crate::sys::Sys::println(hxrt::dynamic::from(sum));
}
