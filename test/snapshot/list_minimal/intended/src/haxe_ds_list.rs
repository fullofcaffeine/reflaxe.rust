// Generated by reflaxe.rust (POC)

pub const __HX_TYPE_ID: u32 = 0xd0de220eu32;

#[derive(Debug)]

pub struct List<T: Clone> {
    pub length: i32,
    items: Vec<T>,
}

impl<T: Clone> List<T> {
    pub fn new() -> crate::HxRef<crate::haxe_ds_list::List<T>> {
        let self_: crate::HxRef<crate::haxe_ds_list::List<T>> =
            std::rc::Rc::new(std::cell::RefCell::new(List {
                length: 0,
                items: Vec::<T>::new(),
            }));
        {
            let __tmp = Vec::<T>::new();
            self_.borrow_mut().items = __tmp.clone();
            __tmp
        };
        {
            let __tmp = 0;
            self_.borrow_mut().length = __tmp.clone();
            __tmp
        };
        return self_;
    }

    pub fn add(self_: &std::cell::RefCell<List<T>>, x: T) {
        self_.borrow().items.clone().push(x.clone());
        {
            let __tmp = self_.borrow().length + 1;
            self_.borrow_mut().length = __tmp.clone();
            __tmp
        };
    }

    pub fn iterator(self_: &std::cell::RefCell<List<T>>) -> hxrt::iter::Iter<T> {
        return hxrt::iter::Iter::from_vec(self_.borrow().items.clone());
    }
}
