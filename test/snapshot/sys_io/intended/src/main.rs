// Generated by reflaxe.rust (POC)

#![allow(dead_code)]
#![allow(type_alias_bounds)]

type HxRc<T> = hxrt::cell::HxRc<T>;
type HxDynRef<T: ?Sized> = hxrt::cell::HxDynRef<T>;
type HxRefCell<T> = hxrt::cell::HxCell<T>;
type HxRef<T> = hxrt::cell::HxRef<T>;

mod date;
mod haxe_call_stack_call_stack_impl_;
mod haxe_ds_enum_value_map;
mod haxe_ds_int_map;
mod haxe_ds_object_map;
mod haxe_ds_string_map;
mod haxe_exception;
mod haxe_i_map;
mod haxe_int64_int64;
mod haxe_int64_int64_impl_;
mod haxe_io_bytes_buffer;
mod haxe_io_encoding;
mod haxe_io_eof;
mod haxe_io_fp_helper;
mod haxe_io_input;
mod haxe_io_output;
mod haxe_stack_item;
mod string_buf;
mod sys;
mod sys_file_system;
mod sys_io_file;
mod sys_io_file_input;
mod sys_io_file_output;
mod sys_io_file_seek;
mod sys_io_stderr;
mod sys_io_stdin;
mod sys_io_stdout;

fn main() {
    println!(
        "{}",
        hxrt::dynamic::from(hxrt::string::HxString::from("--- args ---"))
    );
    println!(
        "{}",
        hxrt::dynamic::from(crate::sys::Sys::args().len() as i32)
    );
    println!(
        "{}",
        hxrt::dynamic::from(hxrt::string::HxString::from("--- env ---"))
    );
    crate::sys::Sys::put_env(
        hxrt::string::HxString::from(hxrt::string::HxString::from("HX_TEST_ENV")),
        hxrt::string::HxString::from(hxrt::string::HxString::from("ok")),
    );
    println!(
        "{}",
        hxrt::dynamic::from(
            crate::sys::Sys::get_env(hxrt::string::HxString::from(hxrt::string::HxString::from(
                "HX_TEST_ENV"
            )))
            .clone()
        )
    );
    let env: crate::HxRef<crate::haxe_ds_string_map::StringMap<hxrt::string::HxString>> =
        crate::sys::Sys::environment();
    println!(
        "{}",
        hxrt::dynamic::from(crate::haxe_ds_string_map::StringMap::exists(
            &*env,
            hxrt::string::HxString::from(hxrt::string::HxString::from("HX_TEST_ENV"))
        ))
    );
    println!(
        "{}",
        hxrt::dynamic::from(
            crate::haxe_ds_string_map::StringMap::get(
                &*env,
                hxrt::string::HxString::from(hxrt::string::HxString::from("HX_TEST_ENV"))
            )
            .clone()
        )
    );
    crate::sys::Sys::put_env(
        hxrt::string::HxString::from(hxrt::string::HxString::from("HX_TEST_ENV")),
        hxrt::string::HxString::from(hxrt::string::HxString::null()),
    );
    println!(
        "{}",
        hxrt::dynamic::from(
            crate::sys::Sys::get_env(hxrt::string::HxString::from(hxrt::string::HxString::from(
                "HX_TEST_ENV"
            )))
            .clone()
        )
    );
    println!(
        "{}",
        hxrt::dynamic::from(hxrt::string::HxString::from("--- stdout ---"))
    );
    crate::sys::Sys::stdout().write_string(
        hxrt::string::HxString::from(hxrt::string::HxString::from("hello stdout\n")),
        None,
    );
    crate::sys::Sys::stdout().flush();
    println!(
        "{}",
        hxrt::dynamic::from(hxrt::string::HxString::from("--- file content ---"))
    );
    let path: hxrt::string::HxString =
        hxrt::string::HxString::from(hxrt::string::HxString::from("tmp_sys_io.txt"));
    crate::sys_io_file::File::save_content(
        hxrt::string::HxString::from(path.clone()),
        hxrt::string::HxString::from(hxrt::string::HxString::from("hello")),
    );
    println!(
        "{}",
        hxrt::dynamic::from(
            crate::sys_io_file::File::get_content(hxrt::string::HxString::from(path.clone()))
                .clone()
        )
    );
    println!(
        "{}",
        hxrt::dynamic::from(crate::sys_file_system::FileSystem::exists(
            hxrt::string::HxString::from(path.clone())
        ))
    );
    crate::sys_file_system::FileSystem::delete_file(hxrt::string::HxString::from(path.clone()));
    println!(
        "{}",
        hxrt::dynamic::from(crate::sys_file_system::FileSystem::exists(
            hxrt::string::HxString::from(path.clone())
        ))
    );
    println!(
        "{}",
        hxrt::dynamic::from(hxrt::string::HxString::from("--- file bytes ---"))
    );
    let bin: hxrt::string::HxString =
        hxrt::string::HxString::from(hxrt::string::HxString::from("tmp_sys_io.bin"));
    let bytes: crate::HxRef<hxrt::bytes::Bytes> = crate::HxRef::new(hxrt::bytes::Bytes::of_string(
        hxrt::string::HxString::from("ABC").as_str(),
    ));
    crate::sys_io_file::File::save_bytes(hxrt::string::HxString::from(bin.clone()), bytes.clone());
    let bytes2: crate::HxRef<hxrt::bytes::Bytes> =
        crate::sys_io_file::File::get_bytes(hxrt::string::HxString::from(bin.clone()));
    println!(
        "{}",
        hxrt::dynamic::from(bytes2.borrow().to_string().clone())
    );
    crate::sys_file_system::FileSystem::delete_file(hxrt::string::HxString::from(bin.clone()));
    println!(
        "{}",
        hxrt::dynamic::from(hxrt::string::HxString::from("--- dir listing ---"))
    );
    let dir: hxrt::string::HxString =
        hxrt::string::HxString::from(hxrt::string::HxString::from("tmp_sys_dir"));
    crate::sys_file_system::FileSystem::create_directory(hxrt::string::HxString::from(dir.clone()));
    crate::sys_io_file::File::save_content(
        hxrt::string::HxString::from(hxrt::string::HxString::from(format!(
            "{}{}",
            &dir, "/a.txt"
        ))),
        hxrt::string::HxString::from(hxrt::string::HxString::from("a")),
    );
    crate::sys_io_file::File::save_content(
        hxrt::string::HxString::from(hxrt::string::HxString::from(format!(
            "{}{}",
            &dir, "/b.txt"
        ))),
        hxrt::string::HxString::from(hxrt::string::HxString::from("b")),
    );
    let entries: hxrt::array::Array<hxrt::string::HxString> =
        crate::sys_file_system::FileSystem::read_directory(hxrt::string::HxString::from(
            dir.clone(),
        ));
    let mut found_a: bool = false;
    let mut found_b: bool = false;
    let mut found_dot: bool = false;
    let mut found_dot_dot: bool = false;
    {
        let mut _g: i32 = 0;
        while _g < (entries.len() as i32) {
            let e: hxrt::string::HxString =
                hxrt::string::HxString::from(entries.get_unchecked(_g as usize));
            {
                _g = _g + 1;
                _g
            };
            if e == hxrt::string::HxString::from("a.txt") {
                found_a = true;
            }
            if e == hxrt::string::HxString::from("b.txt") {
                found_b = true;
            }
            if e == hxrt::string::HxString::from(".") {
                found_dot = true;
            }
            if e == hxrt::string::HxString::from("..") {
                found_dot_dot = true;
            }
        }
    }
    println!("{}", hxrt::dynamic::from(found_a));
    println!("{}", hxrt::dynamic::from(found_b));
    println!("{}", hxrt::dynamic::from(found_dot));
    println!("{}", hxrt::dynamic::from(found_dot_dot));
    crate::sys_file_system::FileSystem::delete_file(hxrt::string::HxString::from(
        hxrt::string::HxString::from(format!("{}{}", &dir, "/a.txt")),
    ));
    crate::sys_file_system::FileSystem::delete_file(hxrt::string::HxString::from(
        hxrt::string::HxString::from(format!("{}{}", &dir, "/b.txt")),
    ));
    crate::sys_file_system::FileSystem::delete_directory(hxrt::string::HxString::from(dir.clone()));
    println!(
        "{}",
        hxrt::dynamic::from(crate::sys_file_system::FileSystem::exists(
            hxrt::string::HxString::from(dir.clone())
        ))
    );
}
