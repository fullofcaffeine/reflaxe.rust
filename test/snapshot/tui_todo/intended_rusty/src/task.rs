// Generated by reflaxe.rust (POC)

pub const __HX_TYPE_ID: u32 = 0xad9a8cc0u32;

#[derive(Debug)]

pub struct Task {
    pub text: String,
    pub done: bool,
}

impl Task {
    pub fn new(text: String, done: bool) -> crate::HxRef<crate::task::Task> {
        let self_: crate::HxRef<crate::task::Task> =
            std::rc::Rc::new(std::cell::RefCell::new(Task {
                text: (text),
                done: (done),
            }));
        return self_;
    }

    pub fn toggle(self_: &std::cell::RefCell<Task>) {
        {
            let __tmp = !self_.borrow().done;
            self_.borrow_mut().done = __tmp;
            __tmp
        };
    }

    pub fn line(self_: &std::cell::RefCell<Task>, selected: bool) -> String {
        let sel: String = if selected {
            String::from(">")
        } else {
            String::from(" ")
        };
        let mark: String = if self_.borrow().done {
            String::from("x")
        } else {
            String::from(" ")
        };
        return format!(
            "{}{}{}{}{}",
            sel,
            String::from("["),
            mark,
            String::from("] "),
            self_.borrow().text.clone()
        );
    }
}
